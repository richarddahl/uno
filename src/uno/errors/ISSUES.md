# Uno Error Management System – Issues and Review (2025-05-13)

## ❗️ Critical: Vestiges of the Removed Error Factory Pattern

- [ ] **Error Factory Pattern Must Be Fully Removed:**
  - The following files/fragments are remnants of the error factory pattern, which is NOT deprecated but REMOVED and must not exist:
    - `factories.py`, `factory.py`, `factories/base.py` all exist and contain error factory logic.
    - `BaseErrorFactory`, `ErrorContextModel`, and any `make_error`/factory-style helpers are present.
    - Imports or references to error factories in other modules (e.g., tests, helpers, or legacy code).
  - **Action:**
    - Delete all files and code fragments related to error factories.
    - Sweep the codebase for any usage or import of error factory classes/methods and remove them.
    - Ensure all error creation is done via UnoError subclasses directly, never via a factory.

## General Principles & Compliance

- [ ] **Type Hint Consistency:** Sweep for legacy typing (`Optional`, `Union`, etc.) and ensure all type hints use modern Python 3.13+ idioms (`X | None`, `X | Y`).
- [ ] **UnoError Instantiation:** UnoError should NEVER be instantiated directly; always subclass for concrete error types. Audit for any direct instantiation (including in factories).
- [ ] **Error Code/Category/Severity Enums:** All error codes, categories, and severities must use their respective enums (`ErrorCode`, `ErrorCategory`, `ErrorSeverity`). No magic strings.
- [ ] **Pydantic v2 Compliance:** Ensure all Pydantic usage is v2 idiomatic (no class `Config`, use `ConfigDict`).
- [ ] **No Built-in Shadowing:** Audit for class/function/constant names that shadow Python built-ins or imported package names.
- [ ] **No Python Keywords as Identifiers:** Confirm no accidental use of Python keywords as identifiers.

## Error Context & Enrichment

- [ ] **Context Model Validation:** Ensure all error context is structured and validated where appropriate.
- [ ] **Async/Thread Context:** Context propagation across async/thread boundaries is complex; ensure all edge cases are covered by tests.
- [ ] **Context Registry/Bridge:** Registry and bridge patterns are powerful but under-documented. Expand internal docs and add usage examples.

## Documentation, Testability, and Maintainability

- [ ] **Internal Documentation:** Some internal/private methods lack docstrings or usage notes. Add for maintainers.
- [ ] **Test Coverage:** No evidence of comprehensive unit tests for error context propagation, custom error creation, or error code mapping. Add/expand tests for these scenarios.
- [ ] **Examples:** `examples.py` exists, but ensure all major patterns are covered and up-to-date.
- [ ] **Dead Code:** Remove any dead code, stubs, or unused helpers (e.g., old factories, legacy helpers).

## Minor/Other Issues

- [ ] **Circular Imports:** Use `TYPE_CHECKING` guards, but audit for possible circular import issues, especially with error helpers and codes.
- [ ] **Extensibility:** Document how to add new error types, codes, and context models for contributors.

---

**Next Steps:**

- IMMEDIATELY delete all error factory code/files/fragments (see above).
- Sweep all error code for Uno idioms and direct UnoError subclass usage.
- Standardize error creation on concrete subclasses and structured context.
- Improve test coverage for error context propagation and error enums.
- Expand documentation for maintainers and contributors.
- Audit for circular imports, dead code, and redundant helpers.

*Generated by automated review on 2025-05-13.*
